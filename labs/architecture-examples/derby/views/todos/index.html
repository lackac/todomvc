<Title:>
  Derby • TodoMVC

<Head:>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <!--[if IE]>
  <script src="/ie.js"></script>
  <![endif]-->

<Header:>
  <app:alert>

<Body:>
  <section id="todoapp">
    <header id="header">
      <h1>todos</h1>
      <input x-bind="keyup:add" id="new-todo" value="{_newTodo}" placeholder="What needs to be done?" autofocus>
    </header>
    {#if _todoList}
      <app:main>
      <app:listfooter>
    {/}
  </section>

<Footer:>
  <footer id="info">
    <p>Double-click to edit a todo</p>
    <p>Template by <a href="http://github.com/sindresorhus">Sindre Sorhus</a></p>
    <p>Created by <a href="http://github.com/lackac">László Bácsi</a></p>
    <p>Based on the <a href="https://github.com/codeparty/derby-examples/tree/master/todos">Derby todos example</a></p>
    <p>Part of <a href="http://todomvc.com">TodoMVC</a></p>
  </footer>

<main:>
  <section id="main">
    <input id="toggle-all" type="checkbox">
    <label for="toggle-all">Mark all as complete</label>
    <ul id="todo-list">
      {#each _todoList}<app:todo>{/}
    </ul>
  </section>

<listfooter:>
  <footer id="footer">
    <!-- This should be `0 items left` by default -->
    <span id="todo-count"><strong>1</strong> item left</span>
    <!-- Remove this if you don't implement routing -->
    <ul id="filters">
      <li>
        <a class="selected" href="#/">All</a>
      </li>
      <li>
        <a href="#/active">Active</a>
      </li>
      <li>
        <a href="#/completed">Completed</a>
      </li>
    </ul>
    <button id="clear-completed">Clear completed (1)</button>
  </footer>

<todo:>
  <li data-id={{id}} class="{#if .completed}completed{/}">
    <div class="view">
      <input class="toggle" type="checkbox" checked="{.completed}">
      <label>{unescaped .text}</label>
      <button class="destroy" x-bind=click:del></button>
    </div>
    <input class="edit" value="{.text}">
  </li>

<alert:>
  <div id=alert>
    {#unless connected}
      <p>
        {#if canConnect}
          Offline {#if _showReconnect}&ndash; <a x-bind=click:connect>Reconnect</a>{/}
        {else}
          Unable to reconnect &ndash; <a x-bind=click:reload>Reload</a>
        {/}
      </p>
    {/}
  </div>

<Scripts:>
  <script src="/base.js"></script>
